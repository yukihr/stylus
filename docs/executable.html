<!DOCTYPE html><html><head><title>Stylus</title><link rel="stylesheet" href="../main.css"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head><body><div id="container"><h1><a href='http://learnboost.github.com/stylus'>Stylus</a></h1><p class="tagline"><em class="expressive">Expressive, </em><em class="dynamic">dynamic, </em><em class="robust">robust </em><em class="css">CSS</em></p><div id="ribbon"><a href="http://github.com/learnboost/stylus">Fork me on GitHub</a></div><ul id="menu"><li><a href="../docs/selectors.html">Selectors</a></li><li><a href="../docs/variables.html">Variables</a></li><li><a href="../docs/interpolation.html">Interpolation</a></li><li><a href="../docs/operators.html">Operators</a></li><li><a href="../docs/mixins.html">Mixins</a></li><li><a href="../docs/functions.html">Functions</a></li><li><a href="../docs/kwargs.html">Keyword Arguments</a></li><li><a href="../docs/bifs.html">Built-in Functions</a></li><li><a href="../docs/vargs.html">Rest Params</a></li><li><a href="../docs/comments.html">Comments</a></li><li><a href="../docs/conditionals.html">Conditionals</a></li><li><a href="../docs/iteration.html">Iteration</a></li><li><a href="../docs/import.html">@import</a></li><li><a href="../docs/media.html">@media</a></li><li><a href="../docs/font-face.html">@font-face</a></li><li><a href="../docs/keyframes.html">@keyframes</a><li><a href="../docs/extend.html">@extend</a></li><li><a href="../docs/functions.url.html">url()</a></li><li><a href="../docs/literal.html">CSS Literal</a></li><li><a href="../docs/css-style.html">CSS Style Syntax</a></li><li><a href="../docs/escape.html">Char Escaping</a></li><li><a href="../docs/executable.html">Executable</a></li><li><a href="../docs/error-reporting.html">Error Reporting</a></li><li><a href="../docs/middleware.html">Connect Middleware</a></li><li><a href="../docs/introspection.html">Introspection API</a></li><li><a href="../docs/js.html">JavaScript API</a></li>
  <li><a href="http://github.com/visionmedia/nib">CSS3 Extensions with Nib</a></li>
  <li><a href="../try.html">Try Stylus Online!</a></li>
  </ul><div id="content"><ul>
<li>元文書: <a href="https://github.com/LearnBoost/stylus/blob/22e21d4043913b3e572f95a0b8e10fec73884ec5/docs/executable.md" title="stylus/docs/executable.md at 22e21d4043913b3e572f95a0b8e10fec73884ec5 · LearnBoost/stylus · GitHub">stylus/docs/executable.md at 22e21d4043913b3e572f95a0b8e10fec73884ec5 · LearnBoost/stylus · GitHub</a></li>
</ul>

<h2>Stylus コマンド <a href="http://learnboost.github.com/stylus/docs/executable.html">原文</a></h2>

<p>StylusにはStylus形式のファイルをCSSに変換するための<code>stylus</code>コマンドが付属しています。</p>

<pre><code>  Usage: stylus [options] [command] [&lt; in [&gt; out]]
                [file|dir ...]

  Commands:

    help &lt;prop&gt;     Opens help info for &lt;prop&gt; in
                    your default browser. (OS X only)

  Options:

    -u, --use &lt;path&gt;        Utilize the stylus plugin at &lt;path&gt;
    -i, --interactive       Start interactive REPL
    -w, --watch             Watch file(s) for changes and re-compile
    -o, --out &lt;dir&gt;         Output to &lt;dir&gt; when passing files
    -C, --css &lt;src&gt; [dest]  Convert CSS input to Stylus
    -I, --include &lt;path&gt;    Add &lt;path&gt; to lookup paths
    -c, --compress          Compress CSS output
    -d, --compare           Display input along with output
    -f, --firebug           Emits debug infos in the generated css that
                            can be used by the FireStylus Firebug plugin
    -l, --line-numbers      Emits comments in the generated CSS
                            indicating the corresponding Stylus line
    -V, --version           Display the version of Stylus
    -h, --help              Display help information
</code></pre>

<h3>標準入出力(STDIO)からのコンパイル例</h3>

<p><code>stylus</code>コマンドは <em>stdin</em> から入力を読み込み、 <em>stdout</em> から出力します。例として、次のコマンドラインでStylusをCSSに変換出来ます:</p>

<pre><code>  $ stylus --compress &lt; some.styl &gt; some.css
</code></pre>

<p>ターミナルの中でStylusを試してみましょう！ 以下のコマンドラインを打ち込み、<code>__EOF__</code>を入力するために<code>CIRL-D</code>を打ち込みます。</p>

<pre><code>  $ stylus
  body
    color red
    font 14px Arial, sans-serif
</code></pre>

<h3>ファイルのコンパイル例</h3>

<p><code>stylus</code>コマンドはファイル名やディレクトリ名も受け取ることができます。例えば、<code>css</code>という名前のディレクトリを指定するとそのディレクトリのStylusファイルを<code>.css</code>に変換して同じディレクトリのファイルに出力します。</p>

<pre><code>  $ stylus css
</code></pre>

<p>次の例では<code>./public/stylesheets</code>に出力します:</p>

<pre><code>  $ stylus css --out public/stylesheets
</code></pre>

<p>複数のファイルを指定することもできます:</p>

<pre><code>  $ stylus one.styl two.styl
</code></pre>

<p>開発作業に用いるために、<code>lineos</code>オプションを使うとオリジナルのStylusファイル名と行番号を出力CSSに付加します。</p>

<pre><code>  $ stylus --line-numbers &lt;path&gt;
</code></pre>

<p>また、<a href="http://github.com/LearnBoost/stylus/blob/master/docs/firebug.md">FireStylus Firebug拡張機能</a>用に、<code>firebug</code>オプションを利用できます。</p>

<pre><code>  $ stylus --firebug &lt;path&gt;
</code></pre>

<h3>CSSをStylusに変換する</h3>

<p>CSSを簡潔なStylus形式に変換したい場合、<code>--css</code>オプションを使います。</p>

<p>標準入出力を使う場合:</p>

<pre><code>  $ stylus --css &lt; test.css &gt; test.styl
</code></pre>

<p><code>.styl</code>拡張子の同一ファイル名に出力:</p>

<pre><code>  $ stylus --css test.css
</code></pre>

<p>指定した場所に保存する:</p>

<pre><code>  $ stylus --css test.css /tmp/out.styl
</code></pre>

<h3>CSSプロパティのヘルプ</h3>

<p>OS Xでは、<code>stylus help &lt;prop&gt;</code>コマンドで、CSSプロパティ<code>&lt;prop&gt;</code>のヘルプをデフォルトブラウザで開くことができます。</p>

<pre><code>$ stylus help box-shadow
</code></pre>

<h3>対話シェル</h3>

<p>StylusのREPL(Read-Eval-Print-Loop)（対話シェル）では、端末から直接Stylusの式を評価出来ます。</p>

<p><strong>対話シェルは式だけに使えるということに注意してください</strong>（つまり、CSSセレクターなどを評価することはできません）。対話シェルを使うには<code>-i</code>、または<code>--interactive</code>フラグを使います。</p>

<pre><code> $ stylus -i
 &gt; color = white
 =&gt; #fff
 &gt; color - rgb(200,50,0)
 =&gt; #37cdff
 &gt; color
 =&gt; #fff
 &gt; color -= rgb(200,50,0)
 =&gt; #37cdff
 &gt; color
 =&gt; #37cdff
 &gt; rgba(color, 0.5)
 =&gt; rgba(55,205,255,0.5)
</code></pre>

<h3>プラグインを活用する</h3>

<p>例として、<a href="https://github.com/visionmedia/nib">nib</a> Stylusプラグインを用いてコマンドの使い方を説明します。</p>

<p>下のようなStylusがあったとします。これは、nibに含まれる<code>linear-gradient()</code>関数を用いるために、nibのインポートを行なっています。</p>

<pre><code> @import 'nib'

 body
   background: linear-gradient(20px top, white, black)
</code></pre>

<p>まず、標準入出力を通して<code>stylus(1)</code>コマンドを用いると下のようになります:</p>

<pre><code> $ stylus &lt; test.styl
</code></pre>

<p>しかし、これは次のエラーを発生させます(このエラーはStylusがnibをどこからロードすればよいか知らないために起こります)。</p>

<pre><code>   Error: stdin:3
      1| 
      2| 
    &gt; 3| @import 'nib'
      4| 
      5| body
      6|   background: linear-gradient(20px top, white, black)
</code></pre>

<p>Stylusで実装されたAPIをプラグインで提供するために、Stylusのライブラリ検索パスに新しいパスを加えることができます。<code>--include</code>か、<code>-I</code>フラグを使うことで可能です:</p>

<pre><code> $ stylus &lt; test.styl --include ../nib/lib
</code></pre>

<p>上記のコマンドによって以下が出力されます。(お気づきのとおり、<code>gradient-data-uri()</code>と<code>create-gradient-image()</code>はそのまま出力されています。これは、プラグインがJavaScriptで実装されたAPIを提供する場合にはライブラリのパスを示すだけでは十分でないためです。ただし、nibの、Stylusだけで実装された関数だけを使う分にはこれで十分です。)</p>

<pre><code>  body {
    background: url(gradient-data-uri(create-gradient-image(20px, top)));
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #fff), color-stop(1, #000));
    background: -webkit-linear-gradient(top, #fff 0%, #000 100%);
    background: -moz-linear-gradient(top, #fff 0%, #000 100%);
    background: linear-gradient(top, #fff 0%, #000 100%);
  }
</code></pre>

<p>これを解決するには、<code>--use</code>、<code>-u</code>フラグを使う必要があります。このフラグにはオプションとしてnodeモジュールへのパスを渡します(<code>.js</code>拡張子の有無は問いません)。これは<code>require()</code>でモジュールをロードするので、関数は<code>module.exports</code>として外部公開されている必要があります。また、関数が<code>require()</code>でロードされたあとに、プラグインを外部公開(js関数を定義するなど)するために<code>style.use(fn())</code>がコールされます(訳注:<code>fn</code>が対象関数)。</p>

<pre><code>$ stylus &lt; test.styl --use ../nib/lib/nib
</code></pre>

<p>これは次のように展開されます:</p>

<pre><code>body {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAUCAYAAABMDlehAAAABmJLR0QA/wD/AP+gvaeTAAAAI0lEQVQImWP4+fPnf6bPnz8zMH358oUBwkIjKJBgYGNj+w8Aphk4blt0EcMAAAAASUVORK5CYII=");
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #fff), color-stop(1, #000));
  background: -webkit-linear-gradient(top, #fff 0%, #000 100%);
  background: -moz-linear-gradient(top, #fff 0%, #000 100%);
  background: linear-gradient(top, #fff 0%, #000 100%);
}
</code></pre>
</div></div></body></html>